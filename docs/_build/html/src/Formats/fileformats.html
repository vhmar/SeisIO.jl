

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Reading Files &mdash; SeisIO 0.2.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Web Requests" href="../Web/webclients.html" />
    <link rel="prev" title="Working with Data" href="../working_with_data.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> SeisIO
          

          
          </a>

          
            
            
              <div class="version">
                0.2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">First Steps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_data.html">Working with Data</a></li>
</ul>
<p class="caption"><span class="caption-text">Reading Files</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Reading Files</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#supported-file-formats">Supported File Formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="#supported-keywords">Supported Keywords</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#performance-tip">Performance Tip</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#format-descriptions-and-notes">Format Descriptions and Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#other-file-i-o-functions">Other File I/O Functions</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Downloading Data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Web/webclients.html">Web Requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Web/seedlink.html">SeedLink</a></li>
</ul>
<p class="caption"><span class="caption-text">Data Processing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Processing/processing.html">Data Processing Functions</a></li>
</ul>
<p class="caption"><span class="caption-text">Appendices</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Appendices/function_list.html">Utility Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Appendices/seisdata_fields.html">Structure and Field Descriptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Appendices/seisdata_fileformat.html">SeisIO File Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Appendices/web_syntax.html">Data Requests Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Appendices/keywords.html">SeisIO Standard Keywords</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Appendices/examples.html">Examples</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">SeisIO</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>Reading Files</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/src/Formats/fileformats.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="reading-files">
<span id="readdata"></span><h1>Reading Files<a class="headerlink" href="#reading-files" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt>
<code class="descname">read_data!(S, fmt::String, filepat [, KWs])</code></dt>
<dd></dd></dl>

<dl class="function">
<dt>
<code class="descname">S = read_data(fmt::String, filepat [, KWs])</code></dt>
<dd></dd></dl>

<div class="line-block">
<div class="line">Read data from a supported file format into memory.</div>
<div class="line"><br /></div>
<div class="line"><strong>fmt</strong></div>
<div class="line">Lowercase string describin the file format. See below.</div>
<div class="line"><br /></div>
<div class="line"><strong>filepat</strong></div>
<div class="line">Read files with names matching pattern <code class="docutils literal notranslate"><span class="pre">filepat</span></code>. Supports wildcards.</div>
<div class="line"><br /></div>
<div class="line"><strong>KWs</strong></div>
<div class="line">Keyword arguments; see also <a class="reference internal" href="../Appendices/keywords.html#dkw"><span class="std std-ref">SeisIO standard KWs</span></a> or type <code class="docutils literal notranslate"><span class="pre">?SeisIO.KW</span></code>.</div>
<div class="line">Standard keywords: full, nx_add, nx_new, v</div>
<div class="line">Other keywords: See below.</div>
</div>
<div class="section" id="supported-file-formats">
<h2>Supported File Formats<a class="headerlink" href="#supported-file-formats" title="Permalink to this headline">¶</a></h2>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="67%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">File Format</th>
<th class="head">String</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GeoCSV, time-sample pair</td>
<td>geocsv</td>
</tr>
<tr class="row-odd"><td>GeoCSV, sample list</td>
<td>geocsv.slist</td>
</tr>
<tr class="row-even"><td>Lennartz ASCII</td>
<td>lenartzascii</td>
</tr>
<tr class="row-odd"><td>Mini-SEED, SEED</td>
<td>mseed</td>
</tr>
<tr class="row-even"><td>PASSCAL SEG Y</td>
<td>passcal</td>
</tr>
<tr class="row-odd"><td>SAC</td>
<td>sac</td>
</tr>
<tr class="row-even"><td>SEG Y (rev 0 or rev 1)</td>
<td>segy</td>
</tr>
<tr class="row-odd"><td>UW</td>
<td>uw</td>
</tr>
<tr class="row-even"><td>Win32</td>
<td>win32</td>
</tr>
</tbody>
</table>
<p>Strings are case-sensitive to prevent any performance impact from using matches
and/or lowercase().</p>
</div>
<div class="section" id="supported-keywords">
<h2>Supported Keywords<a class="headerlink" href="#supported-keywords" title="Permalink to this headline">¶</a></h2>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="13%" />
<col width="13%" />
<col width="13%" />
<col width="13%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">KW</th>
<th class="head">Used By</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Meaning</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>cf</td>
<td>win32</td>
<td>String</td>
<td>“”</td>
<td>win32 channel info filestr</td>
</tr>
<tr class="row-odd"><td>full</td>
<td>sac</td>
<td>Bool</td>
<td>false</td>
<td>read full header into <strong>:misc</strong>?</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>segy</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>uw</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>nx_add</td>
<td>mseed</td>
<td>Int64</td>
<td>360000</td>
<td>minimum size increase of <strong>:x</strong></td>
</tr>
<tr class="row-odd"><td>nx_new</td>
<td>mseed</td>
<td>Int64</td>
<td>86400000</td>
<td>length of <strong>:x</strong> for new channels</td>
</tr>
<tr class="row-even"><td>jst</td>
<td>win32</td>
<td>Bool</td>
<td>true</td>
<td>are sample times JST (UTC+9)?</td>
</tr>
<tr class="row-odd"><td>swap</td>
<td>seed</td>
<td>Bool</td>
<td>true</td>
<td>byte swap?</td>
</tr>
<tr class="row-even"><td>v</td>
<td>mseed</td>
<td>Int64</td>
<td>0</td>
<td>verbosity</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>uw</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>win32</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<div class="section" id="performance-tip">
<h3>Performance Tip<a class="headerlink" href="#performance-tip" title="Permalink to this headline">¶</a></h3>
<p>With mseed or win32 data, adjust <cite>nx_new</cite> and <cite>nx_add</cite> based on the sizes of
the data vectors that you expect to read. If the largest has <cite>Nmax</cite> samples,
and the smallest has <cite>Nmin</cite>, we recommend <cite>nx_new=Nmin</cite> and <cite>nx_add=Nmax-Nmin</cite>.</p>
<p>Default values can be changed in SeisIO keywords, e.g.,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SeisIO</span><span class="o">.</span><span class="n">KW</span><span class="o">.</span><span class="n">nx_new</span> <span class="o">=</span> <span class="mi">60000</span>
<span class="n">SeisIO</span><span class="o">.</span><span class="n">KW</span><span class="o">.</span><span class="n">nx_add</span> <span class="o">=</span> <span class="mi">360000</span>
</pre></div>
</div>
<p>The system-wide defaults are <cite>nx_new=86400000</cite> and <cite>nx_add=360000</cite>. Using these
values with very small jobs will greatly decrease performance.</p>
<div class="section" id="examples">
<h4>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple">
<li><dl class="first docutils">
<dt><code class="docutils literal notranslate"><span class="pre">S</span> <span class="pre">=</span> <span class="pre">read_data(&quot;uw&quot;,</span> <span class="pre">&quot;99011116541W&quot;,</span> <span class="pre">full=true)</span></code></dt>
<dd><ul class="first last">
<li>Read UW-format data file <code class="docutils literal notranslate"><span class="pre">99011116541W</span></code></li>
<li>Store full header information in <code class="docutils literal notranslate"><span class="pre">:misc</span></code></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal notranslate"><span class="pre">read_data!(S,</span> <span class="pre">&quot;sac&quot;,</span> <span class="pre">&quot;MSH80*.SAC&quot;)</span></code></dt>
<dd><ul class="first last">
<li>Read SAC-format files matching string pattern <cite>MSH80*.SAC</cite></li>
<li>Read into existing SeisData object <code class="docutils literal notranslate"><span class="pre">S</span></code></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal notranslate"><span class="pre">S</span> <span class="pre">=</span> <span class="pre">read_data(&quot;win32&quot;,</span> <span class="pre">&quot;20140927*.cnt&quot;,</span> <span class="pre">cf=&quot;20140927*ch&quot;,</span> <span class="pre">nx_new=360000)</span></code></dt>
<dd><ul class="first last">
<li>Read win32-format data files with names matching pattern <code class="docutils literal notranslate"><span class="pre">2014092709*.cnt</span></code></li>
<li>Use ASCII channel information filenames that match pattern <code class="docutils literal notranslate"><span class="pre">20140927*ch</span></code></li>
<li>Assign new channels an initial size of <code class="docutils literal notranslate"><span class="pre">nx_new</span></code> samples</li>
</ul>
</dd>
</dl>
</li>
</ol>
</div>
</div>
</div>
<div class="section" id="format-descriptions-and-notes">
<h2>Format Descriptions and Notes<a class="headerlink" href="#format-descriptions-and-notes" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://geows.ds.iris.edu/documents/GeoCSV.pdf">GeoCSV</a>: an extension of “human-readable”, tabular file format Comma-
Separated Values (CSV).</p>
<p><strong>Lennartz ASCII</strong>: ASCII output of Lennartz portable digitizers.</p>
<p><a class="reference external" href="https://www.passcal.nmt.edu/content/seg-y-what-it-is">PASSCAL</a>: A single-channel variant SEG Y format developed by PASSCAL/New
Mexico Tech and commonly used with PASSCAL field equipment. PASSCAL differs from
SEG Y in that PASSCAL format uses neither file headers nor extended textural
headers, and the number of samples per trace can exceed 32767.</p>
<p><a class="reference external" href="https://www.fdsn.org/seed_manual/SEEDManual_V2.4.pdf">SEED</a>: SEED stands for
Standard for the Exchange of Earthquake Data; used by the International
Federation of Digital Seismograph Networks (FDSN) as an omnibus seismic data
standard. mini-SEED is a data-only variant that uses only data blockettes
and allows longer data records.</p>
<p><a class="reference external" href="https://ds.iris.edu/files/sac-manual/manual/file_format.html">SAC</a>: the
Seismic Analysis Code data format, originally developed for the eponymous
command-line interpreter. Widely used, and supported in virtually every
programming language.</p>
<p><a class="reference external" href="http://wiki.seg.org/wiki/SEG_Y">SEG Y</a>: Society of Exploration Geophysicists
data format. Common in the energy industry, developed and maintained by the SEG.
Only SEG Y rev 0 and <a class="reference external" href="https://seg.org/Portals/0/SEG/News%20and%20Resources/Technical%20Standards/seg_y_rev1.pdf">rev 1</a>
with standard headers are supported.</p>
<p><strong>UW</strong>: the University of Washington data format has no online reference and is
no longer in use. Created by the Pacific Northwest Seismic Network for event
archival; used through the early 2000s. A UW event is described by a pickfile
and a corresponding data file, whose names are identical except for the last
character; for example, the files 99062109485o and 99062109485W
describe event 99062109485. Unlike the win32 data format, the data file is
self-contained; the pick file is not required to use raw trace data. Only UW-2
data files are supported by SeisIO; we have never encountered a UW-1 data file
outside of Exabyte tapes and have no reason to suspect that any remain in
circulation.</p>
<p><a class="reference external" href="http://eoc.eri.u-tokyo.ac.jp/WIN/Eindex.html">Win32</a>: data format developed
by the NIED (National Research Institute for Earth Science and Disaster Prevention),
Japan.  Data are typically divided into files that contain a minute of continuous
data from several channels. Data within each file are stored by channel in
one-second segments as variable-precision delta-encoded integers. Channel
information is retrieved from an external channel information file. Although
accurate channel files are needed to use win32 data, these files are not strictly
controlled by any central authority and inconsistencies in channel parameters,
particularly gains, are known to exist.</p>
</div>
<div class="section" id="other-file-i-o-functions">
<h2>Other File I/O Functions<a class="headerlink" href="#other-file-i-o-functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="readuwevt">
<code class="descname">readuwevt</code><span class="sig-paren">(</span><em>fpat</em><span class="sig-paren">)</span><a class="headerlink" href="#readuwevt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Read University of Washington-format event data with file pattern stub fpat.
fstub can be a datafile name, a pickname, or a stub.</p>
<dl class="function">
<dt id="rseis">
<code class="descname">rseis</code><span class="sig-paren">(</span><em>fname</em><span class="sig-paren">)</span><a class="headerlink" href="#rseis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Read SeisIO native format data into an array of SeisIO structures.</p>
<dl class="function">
<dt id="sachdr">
<code class="descname">sachdr</code><span class="sig-paren">(</span><em>fname</em><span class="sig-paren">)</span><a class="headerlink" href="#sachdr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Print headers from SAC file to stdout.</p>
<dl class="function">
<dt id="segyhdr">
<code class="descname">segyhdr</code><span class="sig-paren">(</span><em>fname</em><span class="optional">[</span>, <em>PASSCAL=true::Bool</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#segyhdr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Print headers from SEG Y file to stdout. Specify <code class="docutils literal notranslate"><span class="pre">passcal=true</span></code> for PASSCAL SEG Y.</p>
<dl class="function">
<dt id="uwdf">
<code class="descname">uwdf</code><span class="sig-paren">(</span><em>dfname</em><span class="sig-paren">)</span><a class="headerlink" href="#uwdf" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Parse UW event data file <code class="docutils literal notranslate"><span class="pre">dfname</span></code> into a new SeisEvent structure.</p>
<dl class="function">
<dt>
<code class="descname">uwpf!(evt, pfname)</code></dt>
<dd></dd></dl>

<p>Parse UW event pick file into SeisEvent structure.</p>
<dl class="function">
<dt id="uwpf">
<code class="descname">uwpf</code><span class="sig-paren">(</span><em>pfname</em><span class="sig-paren">)</span><a class="headerlink" href="#uwpf" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Parse UW event pick file <code class="docutils literal notranslate"><span class="pre">pfname</span></code> into a new SeisEvent structure.</p>
<dl class="function">
<dt id="writesac">
<code class="descname">writesac</code><span class="sig-paren">(</span><em>S</em><span class="optional">[</span>, <em>ts=true</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#writesac" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Write SAC data to SAC files with auto-generated names. Specify ts=true to write
time stamps; this will flag the file as generic x-y data in the SAC interpreter.</p>
<dl class="function">
<dt id="wseis">
<code class="descname">wseis</code><span class="sig-paren">(</span><em>fname</em>, <em>S</em><span class="sig-paren">)</span><a class="headerlink" href="#wseis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt>
<code class="descname">wseis</code><span class="sig-paren">(</span><em>fname</em>, <em>S</em>, <em>T</em>, <em>U...</em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<p>Write SeisIO data to fname. Multiple objects can be written at once.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Web/webclients.html" class="btn btn-neutral float-right" title="Web Requests" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../working_with_data.html" class="btn btn-neutral float-left" title="Working with Data" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-2019, Joshua Jones, Ph.D.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>